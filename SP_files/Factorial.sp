MAIN
L10
	MOVE TEMP 2 TEMP 200
	MOVE TEMP 2 PLUS TEMP 100 5
	MOVE TEMP 2 Factorial_Vtable
	MOVE TEMP 3 HALLOCATE 4
	HSTORE TEMP 2 0 TEMP 3
	MOVE TEMP 4 Factorial_Main
	HSTORE TEMP 3 0 TEMP 4
 
	MOVE TEMP 5 Fac_Vtable
	MOVE TEMP 6 HALLOCATE 4
	HSTORE TEMP 5 0 TEMP 6
	MOVE TEMP 7 Fac_ComputeFac
	HSTORE TEMP 6 0 TEMP 7
 
	MOVE TEMP 8 Fac_Vtable
	MOVE TEMP 9 HALLOCATE 4
	HLOAD TEMP 10 TEMP 8 0
	HSTORE TEMP 9 0 TEMP 10
	MOVE TEMP 11 0
	MOVE TEMP 12 10
	HLOAD TEMP 13 TEMP 9 0
	HLOAD TEMP 14 TEMP 13 0
	MOVE TEMP 15 CALL TEMP 14 (TEMP 9 TEMP 12 )
	PRINT TEMP 15
END

Fac_ComputeFac [2]
BEGIN
	MOVE TEMP 17 1
	MOVE TEMP 18 LT TEMP 1 TEMP 17
	CJUMP TEMP 18 L1
	MOVE TEMP 19 1
	MOVE TEMP 16 TEMP 19
	JUMP L2
L1
	NOOP
	MOVE TEMP 21 1
	MOVE TEMP 22 MINUS TEMP 1 TEMP 21
	HLOAD TEMP 23 TEMP 0 0
	HLOAD TEMP 24 TEMP 23 0
	MOVE TEMP 25 CALL TEMP 24 (TEMP 0 TEMP 22 )
	MOVE TEMP 26 TIMES TEMP 1 TEMP 25
	MOVE TEMP 16 TEMP 26
L2
	NOOP
RETURN
	TEMP 16
END
